{"ast":null,"code":"import _regeneratorRuntime from\"/Users/akramnour/monk-spotify/spotify-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/akramnour/monk-spotify/spotify-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import html2canvas from\"html2canvas\";var exportAsImage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(element,imageFileName){var html,body,htmlWidth,bodyWidth,newWidth,canvas,image;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:html=document.getElementsByTagName(\"html\")[0];body=document.getElementsByTagName(\"body\")[0];htmlWidth=html.clientWidth;bodyWidth=body.clientWidth;newWidth=element.scrollWidth-element.clientWidth;if(newWidth>element.clientWidth){htmlWidth+=newWidth;bodyWidth+=newWidth;}html.style.width=htmlWidth+\"px\";body.style.width=bodyWidth+\"px\";_context.next=10;return html2canvas(element,{logging:true,allowTaint:false,useCORS:true,backgroundColor:null,scale:3,letterRendering:true});case 10:canvas=_context.sent;image=canvas.toDataURL(\"image/jpeg\",1.0);downloadImage(image,imageFileName);html.style.width=null;body.style.width=null;case 15:case\"end\":return _context.stop();}}},_callee);}));return function exportAsImage(_x,_x2){return _ref.apply(this,arguments);};}();var downloadImage=function downloadImage(blob,fileName){var fakeLink=window.document.createElement(\"a\");fakeLink.style=\"display:none;\";fakeLink.download=fileName;fakeLink.href=blob;document.body.appendChild(fakeLink);fakeLink.click();document.body.removeChild(fakeLink);fakeLink.remove();};export default exportAsImage;","map":{"version":3,"names":["html2canvas","exportAsImage","element","imageFileName","html","document","getElementsByTagName","body","htmlWidth","clientWidth","bodyWidth","newWidth","scrollWidth","style","width","logging","allowTaint","useCORS","backgroundColor","scale","letterRendering","canvas","image","toDataURL","downloadImage","blob","fileName","fakeLink","window","createElement","download","href","appendChild","click","removeChild","remove"],"sources":["/Users/akramnour/monk-spotify/spotify-react/src/exportAsImage.js"],"sourcesContent":["import html2canvas from \"html2canvas\";\n\nconst exportAsImage = async (element, imageFileName) => {\n  const html = document.getElementsByTagName(\"html\")[0];\n  const body = document.getElementsByTagName(\"body\")[0];\n  let htmlWidth = html.clientWidth;\n  let bodyWidth = body.clientWidth;\n\n  const newWidth = element.scrollWidth - element.clientWidth;\n  if (newWidth > element.clientWidth) {\n    htmlWidth += newWidth;\n    bodyWidth += newWidth;\n  }\n\n  html.style.width = htmlWidth + \"px\";\n  body.style.width = bodyWidth + \"px\";\n\n  const canvas = await html2canvas(element, { \n    logging: true, \n    allowTaint: false,\n     useCORS: true,\n     backgroundColor: null,\n     scale: 3,\n     letterRendering: true,\n     \n\n});\n  const image = canvas.toDataURL(\"image/jpeg\", 1.0);\n  downloadImage(image, imageFileName);\n  html.style.width = null;\n  body.style.width = null;\n};\n\nconst downloadImage = (blob, fileName) => {\n  const fakeLink = window.document.createElement(\"a\");\n  fakeLink.style = \"display:none;\";\n  fakeLink.download = fileName;\n\n  fakeLink.href = blob;\n\n  document.body.appendChild(fakeLink);\n  fakeLink.click();\n  document.body.removeChild(fakeLink);\n\n  fakeLink.remove();\n};\n\n\n\nexport default exportAsImage;\n"],"mappings":"kRAAA,MAAOA,YAAP,KAAwB,aAAxB,CAEA,GAAMC,cAAa,4FAAG,iBAAOC,OAAP,CAAgBC,aAAhB,4KACdC,IADc,CACPC,QAAQ,CAACC,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CADO,CAEdC,IAFc,CAEPF,QAAQ,CAACC,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAFO,CAGhBE,SAHgB,CAGJJ,IAAI,CAACK,WAHD,CAIhBC,SAJgB,CAIJH,IAAI,CAACE,WAJD,CAMdE,QANc,CAMHT,OAAO,CAACU,WAAR,CAAsBV,OAAO,CAACO,WAN3B,CAOpB,GAAIE,QAAQ,CAAGT,OAAO,CAACO,WAAvB,CAAoC,CAClCD,SAAS,EAAIG,QAAb,CACAD,SAAS,EAAIC,QAAb,CACD,CAEDP,IAAI,CAACS,KAAL,CAAWC,KAAX,CAAmBN,SAAS,CAAG,IAA/B,CACAD,IAAI,CAACM,KAAL,CAAWC,KAAX,CAAmBJ,SAAS,CAAG,IAA/B,CAboB,uBAeCV,YAAW,CAACE,OAAD,CAAU,CACxCa,OAAO,CAAE,IAD+B,CAExCC,UAAU,CAAE,KAF4B,CAGvCC,OAAO,CAAE,IAH8B,CAIvCC,eAAe,CAAE,IAJsB,CAKvCC,KAAK,CAAE,CALgC,CAMvCC,eAAe,CAAE,IANsB,CAAV,CAfZ,SAedC,MAfc,eAyBdC,KAzBc,CAyBND,MAAM,CAACE,SAAP,CAAiB,YAAjB,CAA+B,GAA/B,CAzBM,CA0BpBC,aAAa,CAACF,KAAD,CAAQnB,aAAR,CAAb,CACAC,IAAI,CAACS,KAAL,CAAWC,KAAX,CAAmB,IAAnB,CACAP,IAAI,CAACM,KAAL,CAAWC,KAAX,CAAmB,IAAnB,CA5BoB,uDAAH,kBAAbb,cAAa,gDAAnB,CA+BA,GAAMuB,cAAa,CAAG,QAAhBA,cAAgB,CAACC,IAAD,CAAOC,QAAP,CAAoB,CACxC,GAAMC,SAAQ,CAAGC,MAAM,CAACvB,QAAP,CAAgBwB,aAAhB,CAA8B,GAA9B,CAAjB,CACAF,QAAQ,CAACd,KAAT,CAAiB,eAAjB,CACAc,QAAQ,CAACG,QAAT,CAAoBJ,QAApB,CAEAC,QAAQ,CAACI,IAAT,CAAgBN,IAAhB,CAEApB,QAAQ,CAACE,IAAT,CAAcyB,WAAd,CAA0BL,QAA1B,EACAA,QAAQ,CAACM,KAAT,GACA5B,QAAQ,CAACE,IAAT,CAAc2B,WAAd,CAA0BP,QAA1B,EAEAA,QAAQ,CAACQ,MAAT,GACD,CAZD,CAgBA,cAAelC,cAAf"},"metadata":{},"sourceType":"module"}