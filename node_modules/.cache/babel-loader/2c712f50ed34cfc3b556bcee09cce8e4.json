{"ast":null,"code":"import html2canvas from \"html2canvas\";\n\nconst exportAsImage = async (element, imageFileName) => {\n  const html = document.getElementsByTagName(\"html\")[0];\n  const body = document.getElementsByTagName(\"body\")[0];\n  let htmlWidth = html.clientWidth;\n  let bodyWidth = body.clientWidth;\n  const newWidth = element.scrollWidth - element.clientWidth;\n\n  if (newWidth > element.clientWidth) {\n    htmlWidth += newWidth;\n    bodyWidth += newWidth;\n  }\n\n  html.style.width = htmlWidth + \"px\";\n  body.style.width = bodyWidth + \"px\";\n  const canvas = await html2canvas(element, {\n    logging: true,\n    allowTaint: false,\n    useCORS: true,\n    backgroundColor: null,\n    scale: 3,\n    letterRendering: true\n  });\n  const image = canvas.toDataURL(\"image/jpeg\", 1.0).replace(\"image/jpeg\", \"image/octet-stream\");\n  downloadImage(image, imageFileName);\n  html.style.width = null;\n  body.style.width = null;\n};\n\nconst downloadImage = (blob, fileName) => {\n  const fakeLink = window.document.createElement(\"a\");\n  fakeLink.style = \"display:none;\";\n  fakeLink.download = fileName;\n  fakeLink.href = blob;\n  document.body.appendChild(fakeLink);\n  fakeLink.click();\n  document.body.removeChild(fakeLink);\n  fakeLink.remove();\n};\n\nexport default exportAsImage;","map":{"version":3,"names":["html2canvas","exportAsImage","element","imageFileName","html","document","getElementsByTagName","body","htmlWidth","clientWidth","bodyWidth","newWidth","scrollWidth","style","width","canvas","logging","allowTaint","useCORS","backgroundColor","scale","letterRendering","image","toDataURL","replace","downloadImage","blob","fileName","fakeLink","window","createElement","download","href","appendChild","click","removeChild","remove"],"sources":["/Users/akramnour/monk-spotify/spotify-react/src/exportAsImage.js"],"sourcesContent":["import html2canvas from \"html2canvas\";\n\nconst exportAsImage = async (element, imageFileName) => {\n  const html = document.getElementsByTagName(\"html\")[0];\n  const body = document.getElementsByTagName(\"body\")[0];\n  let htmlWidth = html.clientWidth;\n  let bodyWidth = body.clientWidth;\n  \n\n  const newWidth = element.scrollWidth - element.clientWidth;\n\n  if (newWidth > element.clientWidth) {\n    htmlWidth += newWidth;\n    bodyWidth += newWidth;\n  }\n\n  html.style.width = htmlWidth + \"px\";\n  body.style.width = bodyWidth + \"px\";\n\n  const canvas = await html2canvas(element, { \n    logging: true, \n    allowTaint: false,\n     useCORS: true,\n     backgroundColor: null,\n     scale: 3,\n     letterRendering: true,\n     \n\n});\n  const image = canvas.toDataURL(\"image/jpeg\", 1.0)\n  .replace(\"image/jpeg\", \"image/octet-stream\");\n  downloadImage(image, imageFileName);\n  html.style.width = null;\n  body.style.width = null;\n};\n\nconst downloadImage = (blob, fileName) => {\n  const fakeLink = window.document.createElement(\"a\");\n  fakeLink.style = \"display:none;\";\n  fakeLink.download = fileName;\n\n  fakeLink.href = blob;\n\n  document.body.appendChild(fakeLink);\n  fakeLink.click();\n  document.body.removeChild(fakeLink);\n\n  fakeLink.remove();\n};\n\nexport default exportAsImage;\n"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,aAAxB;;AAEA,MAAMC,aAAa,GAAG,OAAOC,OAAP,EAAgBC,aAAhB,KAAkC;EACtD,MAAMC,IAAI,GAAGC,QAAQ,CAACC,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAAb;EACA,MAAMC,IAAI,GAAGF,QAAQ,CAACC,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAAb;EACA,IAAIE,SAAS,GAAGJ,IAAI,CAACK,WAArB;EACA,IAAIC,SAAS,GAAGH,IAAI,CAACE,WAArB;EAGA,MAAME,QAAQ,GAAGT,OAAO,CAACU,WAAR,GAAsBV,OAAO,CAACO,WAA/C;;EAEA,IAAIE,QAAQ,GAAGT,OAAO,CAACO,WAAvB,EAAoC;IAClCD,SAAS,IAAIG,QAAb;IACAD,SAAS,IAAIC,QAAb;EACD;;EAEDP,IAAI,CAACS,KAAL,CAAWC,KAAX,GAAmBN,SAAS,GAAG,IAA/B;EACAD,IAAI,CAACM,KAAL,CAAWC,KAAX,GAAmBJ,SAAS,GAAG,IAA/B;EAEA,MAAMK,MAAM,GAAG,MAAMf,WAAW,CAACE,OAAD,EAAU;IACxCc,OAAO,EAAE,IAD+B;IAExCC,UAAU,EAAE,KAF4B;IAGvCC,OAAO,EAAE,IAH8B;IAIvCC,eAAe,EAAE,IAJsB;IAKvCC,KAAK,EAAE,CALgC;IAMvCC,eAAe,EAAE;EANsB,CAAV,CAAhC;EAUA,MAAMC,KAAK,GAAGP,MAAM,CAACQ,SAAP,CAAiB,YAAjB,EAA+B,GAA/B,EACbC,OADa,CACL,YADK,EACS,oBADT,CAAd;EAEAC,aAAa,CAACH,KAAD,EAAQnB,aAAR,CAAb;EACAC,IAAI,CAACS,KAAL,CAAWC,KAAX,GAAmB,IAAnB;EACAP,IAAI,CAACM,KAAL,CAAWC,KAAX,GAAmB,IAAnB;AACD,CAhCD;;AAkCA,MAAMW,aAAa,GAAG,CAACC,IAAD,EAAOC,QAAP,KAAoB;EACxC,MAAMC,QAAQ,GAAGC,MAAM,CAACxB,QAAP,CAAgByB,aAAhB,CAA8B,GAA9B,CAAjB;EACAF,QAAQ,CAACf,KAAT,GAAiB,eAAjB;EACAe,QAAQ,CAACG,QAAT,GAAoBJ,QAApB;EAEAC,QAAQ,CAACI,IAAT,GAAgBN,IAAhB;EAEArB,QAAQ,CAACE,IAAT,CAAc0B,WAAd,CAA0BL,QAA1B;EACAA,QAAQ,CAACM,KAAT;EACA7B,QAAQ,CAACE,IAAT,CAAc4B,WAAd,CAA0BP,QAA1B;EAEAA,QAAQ,CAACQ,MAAT;AACD,CAZD;;AAcA,eAAenC,aAAf"},"metadata":{},"sourceType":"module"}